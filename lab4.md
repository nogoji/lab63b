# การทดลองที่ 4 เรื่อง การเขียนโปรแกรมอินพุทสัญญาณดิจิทัล

## วัตถุประสงค์
1. เพื่อนำสัญญาณอินพุทจากภายนอกเข้ามาในไมโครคอนโทรลเลอร์
2. ศึกษาโปรแกรมที่นำสัญญาณอินพุทจากภายนอกเข้ามาในไมโครคอนโทรลเลอร์

## อุปกรณ์ที่ใช้
1. ไมโครคอนโทรลเลอร์ ชนิด ESP-01
2. สาย USB to Serial
3. อะแดปเตอร์พร้อมกับหลอด LED
4. คอมพิวเตอร์ตั้งโต๊ะหรือแลปท็อป

## ศึกษาข้อมูลเบื้องต้น
สามารถศึกษาการเขียนโปรแกรมนำสัญญาณอินพุทจากภายนอกเข้ามาในไมโครคอนโทรลเลอร์ได้ที่ [คลิปการทดลองนี้](https://www.youtube.com/watch?v=nFqoZT26U5k) และสามารถศึกษาเพิ่มเติมได้ที่เว็บไซต์ [platformio.org](http://platformio.org/)

## วิธีการทำการทดลอง
1. ต่อสาย USB to Serial แล้วต่อเข้ากับคอมพิวเตอร์
2. ต่ออะแดปเตอร์เขากับ USB to Serial แล้วต่อไมโครคอนโทรลเลอร์ที่อะแดปเตอร์อีกที
3. ไปยังไฟล์ที่จัดเก็บโปรแกรมที่จะอินพุทสัญญาณเข้าไมโครคอนโทรลเลอร์
4. ศึกษาโปรแกรมได้ที่ [โค้ดการทดลองนี้](https://github.com/choompol-boonmee/lab63b/blob/master/examples/04_Input-Port/src/main.cpp)
     * ส่วนแรก คือ ส่วนของ set up จะให้พอร์ต 0 (สายสีขาว) เป็นอินพุท และให้พอร์ต 2 (สายสีเหลือง) เป็นเอ้าพุท
     
     ![2021-03-27 (12)](https://user-images.githubusercontent.com/80879891/112714526-3dda5e00-8f0d-11eb-9855-af90f4e2eb3e.png)

     * ส่วนที่สอง คือ ส่วนของการวนลูป โดยในลูป จะทำการอ่านข้อมูลที่พอร์ต 0 ในลักษณะสัญญาณดิจิทัล(0,1) ถ้าอ่านได้ 1 หลอด LED ที่พอร์ต 2 จะดับ แต่ถ้าอ่านได้ 0 หลอด LED ที่พอร์ต 2 จะติด
     
     ![2021-03-27 (13)](https://user-images.githubusercontent.com/80879891/112714733-5303bc80-8f0e-11eb-95db-290ad0079b93.png)
5. ทำการอัปโหลดโปรแกรม โดยรันคำสั่ง *pio run -t upload* และตามด้วยกดปุ่มอัปโหลด(ปุ่มสีดำ)
6. รันคำสั่ง *pio device monitor* เพื่อให้ได้ผลการทำงานของโปรแกรม
7. นำสายไฟพอร์ต 0 ไปจิ้มที่ 0 โวล์ต(เส้นสีดำ) สังเกตและบันทึกผลการทดลอง
8. กดปุ่มสีดำที่เชื่อมต่อกับพอร์ต 0 อยู่ สังเกตและบันทึกผลการทดลอง
9. นำเซนเซอร์ขาที่มีตัวต้านทานต่อกับ 3 โวล์ต(เส้นสีแดง) ขากลางต่อกับพอร์ต 0 (เส้นสีขาว)และขาสุดท้ายต่อกับ 0 โวล์ต(เส้นสีดำ)
10. นำนิ้วมาบังเซนเซอร์และไม่บังเซนเซอร์ สังเกตและบันทึกผลการทดลอง

## การบันทึกผลการทดลอง
การรันคำสั่งให้โปรแกรมทำงานแล้วนั้น ผลลัพธ์จะได้ออกมาเป็น 1(ไฟดับ) เมื่อนำสายไฟพอร์ต 0 ไปจิ้มที่ 0 โวล์ต(เส้นสีดำ) แล้วนั้นผลลัพธ์จะได้ 0 (ไฟติด) เช่นเดียวกันการกดปุ่มสีดำผลลัพธ์จะได้ 0 
![2021-03-27 (14)](https://user-images.githubusercontent.com/80879891/112715239-c955ee00-8f11-11eb-86ad-7774c2b47327.png)

ในส่วนของเซนเซอร์เมื่อนำนิ้วมาบัง ไฟจะดับ และไม่นำนิ้วมาบังไฟจะติด
![2021-03-27 (15)](https://user-images.githubusercontent.com/80879891/112715336-323d6600-8f12-11eb-8d6d-7f3e925f66d8.png)
![2021-03-27 (16)](https://user-images.githubusercontent.com/80879891/112715378-6c0e6c80-8f12-11eb-8740-ab1564aac7b2.png)

## อภิปรายผลการทดลอง
การทดลองนี้ทำให้เห็นว่าเมื่ออินพุทที่แตกต่างกันแล้ว เอ้าพุทก็จะได้แตกต่างกันเช่นกัน สามารถนำไปประยุกต์ในอุตสาหกรรมต่างๆที่ต้องใช้การนำข้อมูลเข้า และที่เห็นได้ชัดจากการทดลองนี้คือ ใช้เป็นเซอนเซอร์

## คำถามหลังการทดลอง
ถ้าสลับด้านขาของเซนเซอร์ที่ต่ออยู่กับพอร์ต จะมีผลอย่างไร
